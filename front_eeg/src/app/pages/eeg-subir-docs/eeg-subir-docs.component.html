<div class="container">
  <app-menu-lateral></app-menu-lateral>
  <div class="eeg-upload-container">
    <div class="header">
      <div class="left">
        <!-- <button (click)="onCancel()" class="return" title="Regresar">
          <i class="fa fa-arrow-left" aria-hidden="true"></i>
        </button> -->
        <h1>Nueva sesión</h1>
      </div>
    </div>
    <app-info-paciente  [id_paciente]="idPaciente"></app-info-paciente>
    <div class="upload-form">
    <!--  <div class="form-group">
        <label for="eegDate">Ingresa la fecha de la toma del electroencefalograma:</label>
        <input type="date" id="eegDate" [(ngModel)]="fecha" name="eegDate" required>
      </div>-->

      <label>Estado del paciente:</label>
      <div class="form-group">
        <mat-radio-group [(ngModel)]="estadoGeneral" name="estadoGeneral">
          <mat-radio-button value="Vigilia">Vigilia</mat-radio-button>
          <mat-radio-button value="Sueño">Sueño</mat-radio-button>
          <mat-radio-button value="Sedación">Sedación</mat-radio-button>
          <mat-radio-button value="Ayuno">Ayuno</mat-radio-button>
        </mat-radio-group>
<!--         
        <label>
          <input type="radio" id="stateWakefullness" name="estadoGeneral" value="Vigilia" [(ngModel)]="estadoGeneral"> Vigilia
        </label>
        <label>
          <input type="radio" id="stateSleep" name="estadoGeneral" value="Sueño" [(ngModel)]="estadoGeneral"> Sueño
        </label>
        <label>
          <input type="radio" id="stateSedation" name="estadoGeneral" value="Sedación" [(ngModel)]="estadoGeneral"> Sedación
        </label>
        <label>
          <input type="radio" id="stateAnesthesia" name="estadoGeneral" value="Ayuno" [(ngModel)]="estadoGeneral"> Ayuno
        </label> -->
      </div>

      <label>Específico:</label>
      <div>
        <mat-checkbox id="hiperventilacion" 
          [disabled]="estadosEspecificos['ninguno']"
          (change)="toggleEstadoEspecifico('hiperventilacion', $event)"
          [checked]="estadosEspecificos['hiperventilacion']">
          Hiperventilación
        </mat-checkbox>
      </div>
      <div>
        <mat-checkbox id="estimulo_visual" 
                      [disabled]="estadosEspecificos['ninguno']"
                      (change)="toggleEstadoEspecifico('estimulo_visual', $event)"
                      [checked]="estadosEspecificos['estimulo_visual']">
          Estímulo visual
        </mat-checkbox>
      </div>
      <div>
        <mat-checkbox id="estimulo_auditivo" 
                      [disabled]="estadosEspecificos['ninguno']"
                      (change)="toggleEstadoEspecifico('estimulo_auditivo', $event)"
                      [checked]="estadosEspecificos['estimulo_auditivo']">
          Estímulo auditivo
        </mat-checkbox>
      </div>
      <div>
        <mat-checkbox id="ninguno" 
                      (change)="toggleEstadoEspecifico('ninguno', $event)"
                      [checked]="estadosEspecificos['ninguno']">
          Ninguno
        </mat-checkbox>
      </div>      
 
<!-- <select #selectMedicamento (change)="agregarMedicamento(selectMedicamento.value)">
  <option value="" disabled selected>Selecciona un medicamento</option>
  <option *ngFor="let medicamento of medicamentos" [value]="medicamento.id">
    {{ medicamento.nombre }}
  </option>
</select> -->

      <div class="form-group">
        <label for="description">Resumen de la sesión:</label>
        <textarea id="description" [(ngModel)]="resumenSesionActual" name="description"></textarea>
      </div>

      <div class="form-group">
        <p>En la aplicación del BrainAvatar, ve a la pestaña "file", selecciona exportar y elige "EDF" para descargar el archivo y súbelo dentro de este apartado.</p>
        <label for="file">Subir un nuevo archivo EEG</label>
        <input type="file" id="file" (change)="onFileSelected($event)" name="file" [(ngModel)]="archivo_eeg" >
      </div>
      <div class="header">
        <!-- <div class="left"> -->
          <button (click)="onUpload()" class="upload" title="Subir archivo" >
            <i class="fa fa-upload" aria-hidden="true"></i>
          </button>
        <!-- </div>
        <div class="right"> -->
          <button (click)="onCancel()" class="cancel" title="Cancelar">
            <i class="fa fa-times" aria-hidden="true"></i>
          </button>
        <!-- </div> -->
      </div>
    </div>
  </div>
</div>
<app-usuario></app-usuario>